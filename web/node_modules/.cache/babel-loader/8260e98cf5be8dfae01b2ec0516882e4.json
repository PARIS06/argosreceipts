{"ast":null,"code":"import { updateAPIConfig } from '../../Api/base';\nimport { loginUser, registerUser } from '../../Api/auth';\nimport * as actionTypes from './actionTypes';\nimport { setAuthToken } from '../Tools';\nexport const authStart = () => {\n  return {\n    type: actionTypes.AUTH_START\n  };\n};\nexport const authSuccess = authData => {\n  return {\n    type: actionTypes.AUTH_SUCCESS\n  };\n};\nexport const authFail = error => {\n  return {\n    type: actionTypes.AUTH_FAIL,\n    error: error\n  };\n};\nexport const register = (firstName, lastName, email, password, user_type) => {\n  return dispatch => {\n    dispatch(authStart());\n  };\n}; // Tools\n\nexport const setAuthStatus = (status, email = null) => ({\n  type: actionTypes.SET_AUTH_STATUS,\n  status,\n  email\n}); // Login\n\nexport const login = data => async dispatch => {\n  try {\n    const token = await loginUser(data);\n\n    if (!token) {\n      dispatch(setAuthStatus(false));\n      return;\n    }\n\n    setAuthToken(token);\n    updateAPIConfig({\n      authToken: token\n    });\n    dispatch(setAuthStatus(true));\n  } catch (err) {\n    dispatch(setAuthStatus(false));\n  }\n}; // // Register\n// export const register = data => async dispatch => {\n//    try {\n//       const user = await registerUser(data);\n//       if (!user) {\n//          dispatch(setAuthStatus(false));\n//          return;\n//       }\n//       dispatch(setAuthStatus(true));\n//    } catch (err) {\n//       dispatch(setAuthStatus(false));\n//    }\n// };","map":{"version":3,"sources":["/Users/moabdo-business/Desktop/argoswebapp/web/src/Store/Actions/auth.js"],"names":["updateAPIConfig","loginUser","registerUser","actionTypes","setAuthToken","authStart","type","AUTH_START","authSuccess","authData","AUTH_SUCCESS","authFail","error","AUTH_FAIL","register","firstName","lastName","email","password","user_type","dispatch","setAuthStatus","status","SET_AUTH_STATUS","login","data","token","authToken","err"],"mappings":"AAAA,SAASA,eAAT,QAAgC,gBAAhC;AACA,SAASC,SAAT,EAAoBC,YAApB,QAAwC,gBAAxC;AACA,OAAO,KAAKC,WAAZ,MAA6B,eAA7B;AAEA,SAASC,YAAT,QAA6B,UAA7B;AACA,OAAO,MAAMC,SAAS,GAAG,MAAM;AAC5B,SAAO;AACJC,IAAAA,IAAI,EAAEH,WAAW,CAACI;AADd,GAAP;AAGF,CAJM;AAMP,OAAO,MAAMC,WAAW,GAAIC,QAAD,IAAc;AACtC,SAAO;AACJH,IAAAA,IAAI,EAAEH,WAAW,CAACO;AADd,GAAP;AAGF,CAJM;AAMP,OAAO,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAChC,SAAO;AACJN,IAAAA,IAAI,EAAEH,WAAW,CAACU,SADd;AAEJD,IAAAA,KAAK,EAAEA;AAFH,GAAP;AAIF,CALM;AAOP,OAAO,MAAME,QAAQ,GAAG,CAACC,SAAD,EAAYC,QAAZ,EAAsBC,KAAtB,EAA6BC,QAA7B,EAAuCC,SAAvC,KAAqD;AAC1E,SAAOC,QAAQ,IAAI;AAChBA,IAAAA,QAAQ,CAACf,SAAS,EAAV,CAAR;AACF,GAFD;AAGF,CAJM,C,CAQP;;AAEA,OAAO,MAAMgB,aAAa,GAAG,CAACC,MAAD,EAASL,KAAK,GAAG,IAAjB,MAA2B;AACrDX,EAAAA,IAAI,EAAEH,WAAW,CAACoB,eADmC;AAErDD,EAAAA,MAFqD;AAGrDL,EAAAA;AAHqD,CAA3B,CAAtB,C,CAMP;;AACA,OAAO,MAAMO,KAAK,GAAGC,IAAI,IAAI,MAAML,QAAN,IAAkB;AAC5C,MAAI;AACD,UAAMM,KAAK,GAAG,MAAMzB,SAAS,CAACwB,IAAD,CAA7B;;AAEA,QAAI,CAACC,KAAL,EAAY;AACTN,MAAAA,QAAQ,CAACC,aAAa,CAAC,KAAD,CAAd,CAAR;AACA;AACF;;AAEDjB,IAAAA,YAAY,CAACsB,KAAD,CAAZ;AACA1B,IAAAA,eAAe,CAAC;AAAE2B,MAAAA,SAAS,EAAED;AAAb,KAAD,CAAf;AACAN,IAAAA,QAAQ,CAACC,aAAa,CAAC,IAAD,CAAd,CAAR;AACF,GAXD,CAWE,OAAOO,GAAP,EAAY;AACXR,IAAAA,QAAQ,CAACC,aAAa,CAAC,KAAD,CAAd,CAAR;AACF;AACH,CAfM,C,CAiBP;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA","sourcesContent":["import { updateAPIConfig } from '../../Api/base';\nimport { loginUser, registerUser } from '../../Api/auth';\nimport * as actionTypes from './actionTypes';\n\nimport { setAuthToken } from '../Tools';\nexport const authStart = () => {\n   return {\n      type: actionTypes.AUTH_START\n   }\n}\n\nexport const authSuccess = (authData) => {\n   return {\n      type: actionTypes.AUTH_SUCCESS\n   }\n}\n\nexport const authFail = (error) => {\n   return {\n      type: actionTypes.AUTH_FAIL,\n      error: error\n   }\n}\n\nexport const register = (firstName, lastName, email, password, user_type) => {\n   return dispatch => {\n      dispatch(authStart());\n   };\n}\n\n\n\n// Tools\n\nexport const setAuthStatus = (status, email = null) => ({\n   type: actionTypes.SET_AUTH_STATUS,\n   status,\n   email\n});\n\n// Login\nexport const login = data => async dispatch => {\n   try {\n      const token = await loginUser(data);\n\n      if (!token) {\n         dispatch(setAuthStatus(false));\n         return;\n      }\n\n      setAuthToken(token);\n      updateAPIConfig({ authToken: token });\n      dispatch(setAuthStatus(true));\n   } catch (err) {\n      dispatch(setAuthStatus(false));\n   }\n};\n\n// // Register\n// export const register = data => async dispatch => {\n//    try {\n//       const user = await registerUser(data);\n\n//       if (!user) {\n//          dispatch(setAuthStatus(false));\n//          return;\n//       }\n\n//       dispatch(setAuthStatus(true));\n//    } catch (err) {\n//       dispatch(setAuthStatus(false));\n//    }\n// };\n"]},"metadata":{},"sourceType":"module"}